#include <SPI.h>
#include <SD.h>
#include <DHT.h>
#define DHTPIN 2        // Pin connected to DHT11 sensor
#define DHTTYPE DHT11   // DHT sensor type
#define SD_CS 4         // Chip select pin for SD card module
DHT dht(DHTPIN, DHTTYPE);
File dataFile;
void setup() {

  Serial.begin(9600);
  pinMode(SD_CS, OUTPUT);
  if (!SD.begin(SD_CS)) {
    Serial.println("SD card initialization failed!");
    return;
  }
  Serial.println("SD card initialized.");
  dht.begin();
}
void loop() {
  float temperature = dht.readTemperature();
  float humidity = dht.readHumidity();
  if (isnan(temperature) || isnan(humidity)) {
    Serial.println("Failed to read from DHT sensor!");
    return;
  }
  dataFile = SD.open("data.txt", FILE_WRITE);
  if (dataFile) {
    dataFile.print("Temperature: ");
    dataFile.print(temperature);
    dataFile.print(" Â°C, Humidity: ");
    dataFile.print(humidity);
    dataFile.println(" %");
    dataFile.close();
    Serial.println("Data logged to SD card.");
  } else {
    Serial.println("Error opening data.txt for writing!");
  }
  delay(60000); // Log data every minute
}






 

